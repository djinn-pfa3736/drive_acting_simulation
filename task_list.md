# 運転代行業者シミュレーションの開発
運転代行業者の配車戦略が複数でてきた。配車戦略を一旦まとめて、それぞれのモデルの実装を行う。
現時点での配車戦略は以下の通りである。

+ ランダム配車モデル
+ ランダム配車 + ストックモデル
+ 女性優先 + ランダム配車 + ストックモデル
+ 女性優先 + 最近隣配車 + ストックモデル
+ 行動圏 + ランダム配車 + ストックモデル
+ 行動圏 + 最近隣配車 + ストックモデル
+ 最近隣配車モデル
+ 完全最近隣配車モデル
+ 最近隣配車 + ストックモデル(意味なし)

これらの全てで時間帯による注文件数の増減などを考慮する必要がある。さらに、女性優先モデルではエージェントに対して男女の距離の違いを確率的に表現し組み込む必要がある。
また、行動圏モデルでは各エージェントの行動圏を表現する必要がある。ストックモデルはそれぞれのエージェントがストックを持つように実装している。
現時点では、ランダム配車モデルとランダム配車 + ストックモデル、最短距離配車モデルの実装が終了している。
全体の実装の中で、近い代行業者に電話をかけるという、ある程度スマートな注文モデルは実装できていない。

次に実装の手順をまとめる。

1. 各モデルに対して、注文発生回数の分布を設定できるように修正を行う。
2. 各モデルについて、エージェントの性別を設定できるようにクラスの修正を行う。
3. 各モデルについて、エージェントの所属する代行業者情報を設定できるようにクラスの修正を行う。
4. 各運転代行業者について行動圏を設定できるようにクラスを設計する。
5. 注文から近い代行業者に注文を行うモデルは実装できていない
(シミュレーションの設定によっては必要ない? 例えば那覇などの激戦区を想定するなど。ただし、より広範囲なエリアを想定し、
行動圏などの影響を考慮する場合には必要となる。)

シミュレータを作成するため、運転代行に関わるエージェントのモデル化を行う。

+ 運転代行業者(オペレータ)
  + 行動圏(フィールド番号あるいはエリア)
  + ドライバ数(時間に関する関数)
  + 配車戦略(時間に関する関数)
  + 累積受注数
+ ドライバ
  + 走行状態
    + (移動速度)
    + ステータス
      + 待ち
      + 店舗移動
      + 配送先移動
    + 目的地
    + 待ち状態戦略(時間に関する関数?)
      + ランダム
      + ホームポジション
      + ホームエリア
    + 総賃走距離
+ 客、注文(注文フィールド)
  + グリッドサイズ
  + 注文発生
    + 店舗確率場
    + 配送先確率場
  + 発生確率(時間に関する関数。ポアソン過程)
  + 注文プロパティ
    + 性別(時間に関する関数)
    + 発生時刻
    + 処理開始時刻
    + 店舗位置(発生場所)
    + 配送先(処理終了場所)
+ 地域(全体状態)
  + フィールド間隣接関係
  + 注文キュー
  + 処理済注文集合
